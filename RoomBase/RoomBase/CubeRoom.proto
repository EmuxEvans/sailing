
struct MicrophoneInfo {
	os_dword		uuid;
	string<100>		mtv;
};

struct CubeRoleInfo {
	os_dword		uuid;
	string<100>		nick;
	string<2*1024>	roledata;
	string<2*1024>	equipment;
	string<2*1024>	warehouse;
};

struct CubeRoomInfo {
	os_dword		id;
	string<100>		name;
};

struct CubeMemberInfo {
	string<100>		nick;
	string<1024>	roleinfo;
	string<1024>	equipment;
	os_dword		flags;
};

interface ICubeUserX {
	void Disconnect();

	ICubeRoomX GetCubeRoom();
	CubeRoleInfo GetRoleInfo();

};

interface ICubeRoomX {
	CubeRoomInfo	GetInfo();

	os_int			GetMicrophoneCount();
	MicrophoneInfo	GetMicrophoneInfo(os_int index);
	os_int			AcquireMicrophone(ICubeUserX user, string<100> mtv);
	void			GiveupMicrophone(ICubeUserX user);

	os_int			GetMemberCount();
	ICubeMemberX	GetMember(os_int idx);

	os_int			GetRoomState();
	void			SetRoomState(os_int state);
	os_dword		GetMemberFlags();
	void			SetMemberFlags(os_dword flags);
};

interface ICubeMemberX {
	ICubeUserX		GetUser();
	ICubeRoomX		GetRoom();
	os_dword		GetUUID();
	string			GetNick();
	CubeMemberInfo	GetInfo();
};
